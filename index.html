<!DOCTYPE HTML>
<!--
	Ahin's Research Page
	Designed by Ahin Roy from the 
	PROJECTION by Templated code 
-->
<html>
	<head>
		<title>Ahin's Research Group</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<link rel="stylesheet" href="assets/css/main.css" />
		<link href="assets/css/ninja-slider.css" rel="stylesheet" type="text/css" />
		<script src="assets/js/ninja-slider.js" type="text/javascript"></script>
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/>

		<style>
			/* ✅ Bluesky Feed Styling */
			#bsky-posts {
				display: flex;
				gap: 1.2rem;
				justify-content: center;
				flex-wrap: wrap;
			}
			.bsky-card {
				width: 22%;
				min-width: 260px;
				border: 1px solid #e0e0e0;
				padding: 1rem;
				border-radius: 12px;
				box-shadow: 0 2px 6px rgba(0,0,0,0.08);
				display: flex;
				flex-direction: column;
				transition: transform 0.2s ease, box-shadow 0.2s ease;
				background: #ffffff;
				text-align: left;
				color: #000000; /* force solid black text */
			}
			.bsky-card:hover {
				transform: translateY(-4px);
				box-shadow: 0 6px 16px rgba(0,0,0,0.12);
			}
			.bsky-text {
				margin: 0.5rem 0 0.75rem 0;
				line-height: 1.4;
				color: #000000; /* ensure text is black */
				white-space: pre-wrap;
				word-break: break-word;
			}
			.bsky-images {
				display: grid;
				grid-template-columns: repeat(2, 1fr);
				gap: 6px;
				margin-bottom: 0.75rem;
			}
			.bsky-images img {
				width: 100%;
				height: 140px;
				object-fit: cover;
				border-radius: 8px;
				border: 1px solid #eee;
				background: #f8f8f8;
			}
			/* Single image spans full width */
			.bsky-images.single {
				grid-template-columns: 1fr;
			}
			.bsky-meta {
				margin-top: auto;
				display: flex;
				justify-content: space-between;
				align-items: center;
				font-size: 0.9rem;
			}
			.bsky-link {
				text-decoration: none;
				font-weight: 600;
			}
			.bsky-link:link, .bsky-link:visited {
				color: #0a66ff;
			}
			.bsky-link:hover {
				text-decoration: underline;
			}
			/* Heading row */
			#bluesky-feed h3 {
				margin-bottom: 1rem;
				font-size: 1.35rem;
			}
			#bluesky-heading {
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
			}
			/* Footer (nfixed) */
			.footer {
  				position: fixed;
  				left: 0;
  				bottom: 0;
  				width: 100%;
  				height: 1.5rem;       /* same as original height */
  				line-height: 1.5rem;  /* vertically center text */
				background-color: black;
				color: white;
  				text-align: center;
  				padding: 0;           /* no extra space */
 			    font-size: 0.85rem;
  				z-index: 999;         /* ensures it stays above content */
			}



		</style>
	</head>
	<body>

		<!-- Header -->
		<header id="header">
			<div class="inner">
				<a href="index.html" class="logo">
					<span style="color:rgb(30, 255, 0)">M</span>icroscopy, 
					<span style="color:rgb(30, 255, 0)">C</span>omputation and 
					<span style="color:rgb(30, 255, 0)">C</span>hemistry
				</a>
				<nav id="nav">
					<a href="index.html">Home</a>
					<a href="Team.html">Team</a>
					<a href="Research.html">Research</a>
					<a href="Publications.html">Publications</a>
					<a href="News.html">News</a>
					<a href="Opportunity.html">Work with us</a>
					<a href="https://facweb.iitkgp.ac.in/~ahinroy/Member_login.html">Member Login</a>
				</nav>
				<a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
			</div>
		</header>

		<!-- Banner -->
		<section id="banner">
			<div class="inner">
				<header>
					<h1>Welcome to <span style="color:rgb(30, 255, 0)">mc<sup>2</sup></span> Group Page</h1>
				</header>

				<div class="flex ">
					<div>
						<span class="fas fa-microscope" style="font-size:50px"></span>
						<h3>Microscopy</h3>
						<p>Aberration-corrected <br>scanning transmission electron microscopy (STEM) </br></p>
					</div>

					<div>
						<span class="fas fa-desktop" style="font-size:40px"></span>
						<h3>Computation</h3>
						<p>Density Functional Theory (DFT) based <br>simulation of nanomaterials</br></p>
					</div>

					<div>
						<span class="fas fa-flask" style="font-size:40px"></span>
						<h3>Chemistry</h3>
						<p>Wet-chemical<br>synthesis of nanomaterials</br></p>
					</div>
				</div>
			</div>
		</section>
		<br><br>

		<div class="row" style="align-content: center">	
			<!-- slideshow -->
			<div class="7u 12u$(small)">
				<div class="inner">
					<h3 style="text-align: center;">Materials at Atomic-Scale</h3>
					<!--start-->
					<div id='ninja-slider'>
						<div class="slider-inner">
							<ul>
								<li><a class="ns-img" href="images/homepage/slider/WS2.png" data-fs-image="images/homepage/slider/WS2.png"></a></li>
								<li><a class="ns-img" href="images/homepage/slider/BMO.png" data-fs-image="images/homepage/slider/BMO.png"></a></li>
								<li><a class="ns-img" href="images/homepage/slider/MoS2.png" data-fs-image="images/homepage/slider/MoS2.png"></a></li>
								<li><a class="ns-img" href="images/homepage/slider/PtNW.png" data-fs-image="images/homepage/slider/PtNW.png"></a></li>
								<li><a class="ns-img" href="images/homepage/slider/WO3-Cs.png" data-fs-image="images/homepage/slider/WO3-Cs.png"></a></li>
								<li><a class="ns-img" href="images/homepage/slider/WO3-SF.png" data-fs-image="images/homepage/slider/WO3-SF.png"></a></li>
								<li><a class="ns-img" href="images/homepage/slider/SnSe2.png" data-fs-image="images/homepage/slider/SnSe2.png"></a></li>
								<li><a class="ns-img" href="images/homepage/slider/BMTO.png" data-fs-image="images/homepage/slider/BMTO.png"></a></li>
							</ul>
						</div>
					</div>
					<!--end-->
				</div>
			</div>

			<div class="3u$ 12u$(small)">
				<div class="inner">
					<h3 style="text-align: center;">Atomistic Models</h3>
					<div class="image-container">
						<img src="images/homepage/DFT-scheme.png" class="align-center" style="width: auto; height: 400px; border: 0px solid black;"/>
					</div>
				</div>
			</div>
		</div>

		<br><br>

		<div class="inner">
			<header class="align-center">
				<p style="text-align: justify; color:black">
					Thanks for stopping by and a very warm welcome to our research page! We are a fledgling research group at Materials Science Centre, IIT Kharagpur-
					working on interrogation and understanding of inorganic nanomaterials at atomic-scale. We plan to achieve this through a combinatorial approach of simulations and experiments, with an ulterior motive 
					to establish structure-property relationship in the materials. Such understanding is key to engineer the materials for targeted applications. Our technical strength lies in three genres, 
					<i>viz.</i> wet-chemical synthesis, quantitative scanning transmission electron microscopy (STEM) & associated spectroscopy, and density functional theory (DFT) simulations of inorganic 
					nanomaterials. To know more about the group and our research, please visit the other pages. Happy browsing!
				</p>
			</header>
		</div>
				
		<br><br>

		<!-- ✅ Updated Bluesky Feed Section -->
		<section id="bluesky-feed" style="padding: 2rem;">
			<h3 style="text-align:center;">
				<span id="bluesky-heading">
					<!-- Inline SVG Bluesky logo in blue -->
					<svg width="28" height="28" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
						<path fill="#1185fe" d="M300 278c59-97 166-166 224-166 26 0 52 18 52 54 0 57-64 101-126 131 62 30 126 74 126 131 0 36-26 54-52 54-58 0-165-69-224-166-59 97-166 166-224 166-26 0-52-18-52-54 0-57 64-101 126-131-62-30-126-74-126-131 0-36 26-54 52-54 58 0 165 69 224 166z"/>
					</svg>
					Our Bluesky Feed
				</span>
			</h3>

			<div id="bsky-posts">
				Loading posts...
			</div>
		</section>

		<!-- ✅ Footer (NON-FIXED) -->
		<div class="footer">
			<div class="inner">
				<p><span style="color:rgb(30, 255, 0);">Web Design <span>&#169;</span></span> Ahin Roy</p>
			</div> 
		</div>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/skel.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>

		<!-- ✅ Bluesky Fetch Script (4 posts, thumbnails, all images) -->
		<script>
			async function loadBlueskyFeed() {
				const handle = "ahinroy.bsky.social";

				// 1) Resolve DID from handle (in case you need it later)
				let did = null;
				try {
					const didResp = await fetch(
						`https://public.api.bsky.app/xrpc/com.atproto.identity.resolveHandle?handle=${encodeURIComponent(handle)}`
					);
					if (didResp.ok) {
						const didData = await didResp.json();
						did = didData.did || null;
					}
				} catch (e) {
					// silently continue; not strictly required since API gives image URLs
				}

				// 2) Fetch the author's feed with embeds
				const postsContainer = document.getElementById('bsky-posts');
				try {
					const response = await fetch(
						`https://public.api.bsky.app/xrpc/app.bsky.feed.getAuthorFeed?actor=${encodeURIComponent(handle)}&limit=4`
					);

					if (!response.ok) {
						postsContainer.textContent = "Unable to load feed.";
						return;
					}

					const data = await response.json();
					postsContainer.innerHTML = '';

					data.feed.forEach(item => {
						const post = item.post;
						const text = (post.record && post.record.text) ? post.record.text : '';
						const uri = post.uri
							.replace('at://', 'https://bsky.app/profile/')
							.replace('/app.bsky.feed.post/', '/post/');

						// Build card
						const card = document.createElement('div');
						card.className = 'bsky-card';

						// Collect images (all) from different embed shapes
						const images = [];
						const embed = post.embed;

						// Case 1: app.bsky.embed.images#view
						if (embed && embed.$type && embed.$type.includes('app.bsky.embed.images#view') && Array.isArray(embed.images)) {
							embed.images.forEach(img => {
								// API already gives thumb/fullsize URLs via cdn.bsky.app
								if (img.thumb) images.push(img.thumb);
								else if (img.fullsize) images.push(img.fullsize);
							});
						}

						// Case 2: app.bsky.embed.recordWithMedia#view (media may be images)
						if (embed && embed.$type && embed.$type.includes('app.bsky.embed.recordWithMedia#view')) {
							const media = embed.media;
							if (media && media.$type && media.$type.includes('app.bsky.embed.images#view') && Array.isArray(media.images)) {
								media.images.forEach(img => {
									if (img.thumb) images.push(img.thumb);
									else if (img.fullsize) images.push(img.fullsize);
								});
							}
						}

						// Case 3: app.bsky.embed.external#view (link preview with a single thumb)
						if (embed && embed.$type && embed.$type.includes('app.bsky.embed.external#view')) {
							if (embed.external && embed.external.thumb) {
								images.push(embed.external.thumb);
							}
						}

						// Images block
						if (images.length > 0) {
							const imgWrap = document.createElement('div');
							imgWrap.className = 'bsky-images' + (images.length === 1 ? ' single' : '');
							images.forEach(src => {
								const im = document.createElement('img');
								im.loading = 'lazy';
								im.decoding = 'async';
								im.src = src; // thumbnail from Bluesky CDN (fast)
								imgWrap.appendChild(im);
							});
							card.appendChild(imgWrap);
						}

						// Text
						const textEl = document.createElement('p');
						textEl.className = 'bsky-text';
						textEl.textContent = text;
						card.appendChild(textEl);

						// Meta / Link
						const meta = document.createElement('div');
						meta.className = 'bsky-meta';
						const link = document.createElement('a');
						link.href = uri;
						link.target = '_blank';
						link.rel = 'noopener noreferrer';
						link.className = 'bsky-link';
						link.textContent = 'View on Bluesky';
						meta.appendChild(document.createElement('span')); // spacer/placeholder
						meta.appendChild(link);
						card.appendChild(meta);

						postsContainer.appendChild(card);
					});

					// Empty state
					if (!data.feed || data.feed.length === 0) {
						postsContainer.textContent = "No posts yet.";
					}
				} catch (err) {
					postsContainer.textContent = "Unable to load feed.";
				}
			}

			loadBlueskyFeed();
		</script>

	</body>
</html>
